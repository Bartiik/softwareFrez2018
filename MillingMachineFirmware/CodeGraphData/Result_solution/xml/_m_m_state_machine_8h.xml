<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.6">
  <compounddef id="_m_m_state_machine_8h" kind="file">
    <compoundname>MMStateMachine.h</compoundname>
    <includes local="no">stdint.h</includes>
    <includes local="no">Arduino.h</includes>
    <includes refid="_communication_8h" local="yes">Communication.h</includes>
    <includedby refid="_communication_8h" local="yes">F:/studia/6th_semester/Mechatroinc_design/manka/MankaNator-master/MankaNator/MillingMachineFirmware/Communication.h</includedby>
    <includedby refid="_g_code_interpreter_8cpp" local="yes">F:/studia/6th_semester/Mechatroinc_design/manka/MankaNator-master/MankaNator/MillingMachineFirmware/GCodeInterpreter.cpp</includedby>
    <includedby refid="_m_m_state_machine_8cpp" local="yes">F:/studia/6th_semester/Mechatroinc_design/manka/MankaNator-master/MankaNator/MillingMachineFirmware/MMStateMachine.cpp</includedby>
    <incdepgraph>
      <node id="80">
        <label>stdint.h</label>
      </node>
      <node id="83">
        <label>config.h</label>
        <link refid="config_8h"/>
        <childnode refid="81" relation="include">
        </childnode>
      </node>
      <node id="82">
        <label>Communication.h</label>
        <link refid="_communication_8h"/>
        <childnode refid="81" relation="include">
        </childnode>
        <childnode refid="83" relation="include">
        </childnode>
        <childnode refid="79" relation="include">
        </childnode>
      </node>
      <node id="79">
        <label>F:/studia/6th_semester/Mechatroinc_design/manka/MankaNator-master/MankaNator/MillingMachineFirmware/MMStateMachine.h</label>
        <link refid="MMStateMachine.h"/>
        <childnode refid="80" relation="include">
        </childnode>
        <childnode refid="81" relation="include">
        </childnode>
        <childnode refid="82" relation="include">
        </childnode>
      </node>
      <node id="81">
        <label>Arduino.h</label>
      </node>
    </incdepgraph>
    <invincdepgraph>
      <node id="86">
        <label>F:/studia/6th_semester/Mechatroinc_design/manka/MankaNator-master/MankaNator/MillingMachineFirmware/BLDCDriver.cpp</label>
        <link refid="_b_l_d_c_driver_8cpp"/>
      </node>
      <node id="90">
        <label>F:/studia/6th_semester/Mechatroinc_design/manka/MankaNator-master/MankaNator/MillingMachineFirmware/MMStateMachine.cpp</label>
        <link refid="_m_m_state_machine_8cpp"/>
      </node>
      <node id="85">
        <label>F:/studia/6th_semester/Mechatroinc_design/manka/MankaNator-master/MankaNator/MillingMachineFirmware/Communication.h</label>
        <link refid="_communication_8h"/>
        <childnode refid="86" relation="include">
        </childnode>
        <childnode refid="84" relation="include">
        </childnode>
        <childnode refid="87" relation="include">
        </childnode>
        <childnode refid="88" relation="include">
        </childnode>
        <childnode refid="89" relation="include">
        </childnode>
      </node>
      <node id="84">
        <label>F:/studia/6th_semester/Mechatroinc_design/manka/MankaNator-master/MankaNator/MillingMachineFirmware/MMStateMachine.h</label>
        <link refid="MMStateMachine.h"/>
        <childnode refid="85" relation="include">
        </childnode>
        <childnode refid="88" relation="include">
        </childnode>
        <childnode refid="90" relation="include">
        </childnode>
      </node>
      <node id="89">
        <label>F:/studia/6th_semester/Mechatroinc_design/manka/MankaNator-master/MankaNator/MillingMachineFirmware/SMotor.cpp</label>
        <link refid="_s_motor_8cpp"/>
      </node>
      <node id="88">
        <label>F:/studia/6th_semester/Mechatroinc_design/manka/MankaNator-master/MankaNator/MillingMachineFirmware/GCodeInterpreter.cpp</label>
        <link refid="_g_code_interpreter_8cpp"/>
      </node>
      <node id="87">
        <label>F:/studia/6th_semester/Mechatroinc_design/manka/MankaNator-master/MankaNator/MillingMachineFirmware/Communication.cpp</label>
        <link refid="_communication_8cpp"/>
      </node>
    </invincdepgraph>
    <innerclass refid="class_m_m_state_machine" prot="public">MMStateMachine</innerclass>
      <sectiondef kind="var">
      <memberdef kind="variable" id="_m_m_state_machine_8h_1aa99c34df0d9dffb7a7545a602c72e4c5" prot="public" static="no" mutable="no">
        <type><ref refid="class_m_m_state_machine" kindref="compound">MMStateMachine</ref></type>
        <definition>MMStateMachine StateMachine</definition>
        <argsstring></argsstring>
        <name>StateMachine</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="F:/studia/6th_semester/Mechatroinc_design/manka/MankaNator-master/MankaNator/MillingMachineFirmware/MMStateMachine.h" line="39" column="1" bodyfile="F:/studia/6th_semester/Mechatroinc_design/manka/MankaNator-master/MankaNator/MillingMachineFirmware/MMStateMachine.cpp" bodystart="6" bodyend="-1"/>
        <referencedby refid="class_g_code_interpreter_1ad388b67c14358a726320f9c6fe6d563e" compoundref="_g_code_interpreter_8cpp" startline="439" endline="567">GCodeInterpreter::ExecuteStep</referencedby>
        <referencedby refid="class_g_code_interpreter_1a067558ddc18ddc6746a32b5e520afc2a" compoundref="_g_code_interpreter_8cpp" startline="182" endline="191">GCodeInterpreter::ExecutionIsComplete</referencedby>
        <referencedby refid="class_g_code_interpreter_1a253eb4509b1a88265ee44107b12bc53f" compoundref="_g_code_interpreter_8cpp" startline="294" endline="383">GCodeInterpreter::G28_Execute</referencedby>
        <referencedby refid="class_g_code_interpreter_1aa2c9aeb452c55229df31f1986ddfa3a4" compoundref="_g_code_interpreter_8cpp" startline="158" endline="164">GCodeInterpreter::G28_SetUp</referencedby>
        <referencedby refid="class_g_code_interpreter_1a66457b1960f01193ae29e7ddba655165" compoundref="_g_code_interpreter_8cpp" startline="571" endline="685">GCodeInterpreter::PrepareForExecution</referencedby>
        <referencedby refid="class_communication_1a2bea94775148a1bd3faaa377301103a0" compoundref="_communication_8cpp" startline="11" endline="14">Communication::SendMessage</referencedby>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="preprocessor">#pragma<sp/>once</highlight></codeline>
<codeline lineno="2"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;stdint.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;Arduino.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_communication_8h" kindref="compound">Communication.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight></codeline>
<codeline lineno="9" refid="class_m_m_state_machine" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_m_m_state_machine" kindref="compound">MMStateMachine</ref></highlight></codeline>
<codeline lineno="10"><highlight class="normal">{</highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="keyword">private</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="12" refid="class_m_m_state_machine_1a4b25bf7288f75e5b71f2412d85086f54" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>uint8_t<sp/><ref refid="class_m_m_state_machine_1a4b25bf7288f75e5b71f2412d85086f54" kindref="member">_state</ref>;</highlight></codeline>
<codeline lineno="13" refid="class_m_m_state_machine_1a2906ef41ee76a455fbc3f844427282db" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_m_m_state_machine_1a2906ef41ee76a455fbc3f844427282db" kindref="member">_EndstopEn</ref>;</highlight></codeline>
<codeline lineno="14"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="15" refid="class_m_m_state_machine_1ab17fabbeedf396d720fee4aeff0608de" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>uint8_t<sp/><ref refid="class_m_m_state_machine_1ab17fabbeedf396d720fee4aeff0608de" kindref="member">StateChangeLookupTable</ref>[4][4]<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="16"><highlight class="normal"><sp/><sp/><sp/><sp/>{<ref refid="config_8h_1a1d66c9130165248f0563074180dd1432" kindref="member">IDLE_STATE</ref>,<sp/><ref refid="config_8h_1a60db3d3e5c5fb314c0d698922d0b7124" kindref="member">ERROR_STATE</ref>,<sp/><ref refid="config_8h_1a60db3d3e5c5fb314c0d698922d0b7124" kindref="member">ERROR_STATE</ref>,<sp/>ERROR_STATE},</highlight></codeline>
<codeline lineno="17"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/><ref refid="config_8h_1a60db3d3e5c5fb314c0d698922d0b7124" kindref="member">ERROR_STATE</ref>,<sp/><ref refid="config_8h_1a60db3d3e5c5fb314c0d698922d0b7124" kindref="member">ERROR_STATE</ref>,<sp/><ref refid="config_8h_1a60db3d3e5c5fb314c0d698922d0b7124" kindref="member">ERROR_STATE</ref>,<sp/>ERROR_STATE},</highlight></codeline>
<codeline lineno="18"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/><ref refid="config_8h_1a96cb576b9a3b5f8cb90bd4bb7ee449d2" kindref="member">INIT_STATE</ref>,<sp/><ref refid="config_8h_1a96cb576b9a3b5f8cb90bd4bb7ee449d2" kindref="member">INIT_STATE</ref>,<sp/><ref refid="config_8h_1a96cb576b9a3b5f8cb90bd4bb7ee449d2" kindref="member">INIT_STATE</ref>,<sp/>INIT_STATE<sp/>},</highlight></codeline>
<codeline lineno="19"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/><ref refid="config_8h_1a96cb576b9a3b5f8cb90bd4bb7ee449d2" kindref="member">INIT_STATE</ref>,<sp/><ref refid="config_8h_1a1d66c9130165248f0563074180dd1432" kindref="member">IDLE_STATE</ref>,<ref refid="config_8h_1ad410f2df51004ff4b0f84cacba12eceb" kindref="member">EXECUTION_STATE</ref>,<ref refid="config_8h_1a60db3d3e5c5fb314c0d698922d0b7124" kindref="member">ERROR_STATE</ref>}<sp/>};</highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight></codeline>
<codeline lineno="21" refid="class_m_m_state_machine_1ac5b6edfc02e4d33c28019e95ba9ca884" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_m_m_state_machine_1ac5b6edfc02e4d33c28019e95ba9ca884" kindref="member">_endstopArray</ref>[<ref refid="config_8h_1ae09879934fe302960a6c738f2d847c0f" kindref="member">NO_OF_ENDSTOPS</ref>];</highlight></codeline>
<codeline lineno="22"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="24"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_m_m_state_machine_1aa8eff3bc3c448d7fc131be14d77d6682" kindref="member">MMStateMachine</ref>();</highlight></codeline>
<codeline lineno="25"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_m_m_state_machine_1a0a72913fa8d1d6fe7a38c0241dbbd422" kindref="member">~MMStateMachine</ref>();</highlight></codeline>
<codeline lineno="26"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_m_m_state_machine_1ae2848e59e7c4de36d768b3c77c95215e" kindref="member">MMSafetyBegin</ref>();<sp/></highlight><highlight class="comment">//<sp/>all<sp/>pins<sp/>setup</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"><sp/><sp/><sp/><sp/>uint8_t<sp/><ref refid="class_m_m_state_machine_1afd51964a25bf341b752afe6e0a15e3f4" kindref="member">CurrentState</ref>();<sp/></highlight><highlight class="comment">//<sp/>return<sp/>current<sp/>state</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_m_m_state_machine_1a8ebbf5197c0b24a039ce3f32e62ce0cf" kindref="member">TryUpdateState</ref>(String<sp/>);<sp/></highlight><highlight class="comment">//<sp/>try<sp/>to<sp/>use<sp/>the<sp/>command<sp/>to<sp/>update<sp/>state,<sp/>returns<sp/>true<sp/>if<sp/>the<sp/>command<sp/>is<sp/>unused,<sp/>false<sp/>if<sp/>is</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_m_m_state_machine_1a818911258746bac2fbeb9d5709a4943a" kindref="member">SetErrorState</ref>(String);</highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_m_m_state_machine_1a818911258746bac2fbeb9d5709a4943a" kindref="member">SetErrorState</ref>();</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_m_m_state_machine_1a5522079252755f3d6fdad344a7714f57" kindref="member">SetExecutionState</ref>();</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_m_m_state_machine_1a2529cfeb110e0f3fabf2cc4b5156bb7e" kindref="member">SetIdleState</ref>();</highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_m_m_state_machine_1ac77831d53e34eac63d703ae7bf20c0dc" kindref="member">Reset</ref>();</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_m_m_state_machine_1a1cdd65088e713575fb482c75519c2ffa" kindref="member">SetEndstopsEn</ref>(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_m_m_state_machine_1a5e3ede320f6dfe33fca667d39116c10c" kindref="member">ResolveEndstops</ref>();</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_m_m_state_machine_1a81fedf6924136318aec609d7401376e9" kindref="member">returnEndstop</ref>(uint8_t);</highlight></codeline>
<codeline lineno="37"><highlight class="normal">};</highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/><ref refid="class_m_m_state_machine" kindref="compound">MMStateMachine</ref><sp/><ref refid="_m_m_state_machine_8h_1aa99c34df0d9dffb7a7545a602c72e4c5" kindref="member">StateMachine</ref>;</highlight></codeline>
    </programlisting>
    <location file="F:/studia/6th_semester/Mechatroinc_design/manka/MankaNator-master/MankaNator/MillingMachineFirmware/MMStateMachine.h"/>
  </compounddef>
</doxygen>
